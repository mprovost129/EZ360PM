{% extends "helpcenter/_help_base.html" %}

{% block help_h1 %}Ops Console{% endblock %}

{% block help_body %}
<p class="text-secondary">The Ops Console is the staff-only operations cockpit. It’s designed to prevent “mystery failures” by surfacing checks, evidence, and environment posture.</p>

<div class="card shadow-sm mb-3">
  <div class="card-body">
    <div class="fw-semibold mb-2">Primary sections</div>
    <ul class="mb-0">
      <li><span class="fw-semibold">Ops Dashboard</span>: company search + quick access to support workflows.</li>
      <li><span class="fw-semibold">Ops Checks</span>: run smoke/invariants/idempotency/readiness + store evidence output.</li>
      <li><span class="fw-semibold">Launch Gate</span>: ensure launch items are green before production cutover.</li>
      <li><span class="fw-semibold">Backups & Retention</span>: record backup runs, prune old runs, track restore tests.</li>
      <li><span class="fw-semibold">Probes</span>: test error + test alert to verify monitoring in production.</li>
    </ul>
  </div>
</div>

<div class="card shadow-sm mb-3">
  <div class="card-body">
    <div class="fw-semibold mb-2">Recommended ops routine</div>
    <ol class="mb-0">
      <li>Run <span class="fw-semibold">Ops → Checks → Run all</span> after every deploy.</li>
      <li>Export recent runs as launch evidence and attach to release notes.</li>
      <li>Verify backups are running and record at least one restore test per environment.</li>
      <li>Use probes to confirm alerting paths work end-to-end.</li>
    </ol>
  </div>
</div>


<div class="card shadow-sm mb-3">
  <div class="card-body">
    <div class="fw-semibold mb-2">Automated daily checks (recommended)</div>
    <p class="text-secondary mb-2">In production, schedule a daily run to capture continuous readiness evidence.</p>
    <ul class="mb-0">
      <li><code>python manage.py ez360_run_ops_checks_daily</code> (optionally include <code>--company-id</code> for company-scoped checks)</li>
      <li><code>python manage.py ez360_prune_ops_check_runs --days 30</code> (retention; keep Ops evidence lean)</li>
    </ul>
  </div>
</div>
<div class="alert alert-info mb-0">
  <div class="fw-semibold">Staff-only</div>
  Ops Console endpoints are restricted to staff. Keep access tight.
</div>
{% endblock %}
