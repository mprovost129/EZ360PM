{% extends "base.html" %}
{% block page_title %}Delete Project{% endblock %}

{% block app_content %}
<div class="card shadow-sm">
  <div class="card-body">
    <div class="mb-2">
      <div class="fw-semibold">{{ obj }}</div>
      <div class="text-muted small">
        Client: {{ obj.client }}{% if obj.number %} · Project #: {{ obj.number }}{% endif %}{% if obj.due_date %} · Due: {{ obj.due_date|date:"Y-m-d" }}{% endif %}
      </div>
    </div>

    <div class="alert alert-warning" role="alert">
      <strong>This action cannot be undone.</strong>
      {% if time_count or invoice_count or expense_count %}
        <div class="small mt-2">
          {% if time_count %}• Time entries: {{ time_count }}{% endif %}
          {% if invoice_count %}<br>• Invoices: {{ invoice_count }}{% endif %}
          {% if expense_count %}<br>• Expenses: {{ expense_count }}{% endif %}
        </div>
      {% endif %}
    </div>

    <p>Are you sure you want to delete <strong>{{ obj }}</strong>?</p>

    <form method="post" onsubmit="return confirm('Delete this project? This cannot be undone.');">
      {% csrf_token %}
      <button class="btn btn-danger" type="submit">Delete</button>
      <a class="btn btn-outline-secondary" href="{% url 'projects:project_detail' obj.pk %}">Cancel</a>
    </form>
  </div>
</div>
{% endblock %}
