{% extends "base_app.html" %}
{% load static %}
{% load formatting %}
{% block title %}Delete {{ doc_label }} · EZ360PM{% endblock %}

{% block content %}
<div class="card card-body">
  <h1 class="h5">Delete {{ doc_label }}</h1>
  <p class="text-secondary mb-3">
    This will soft-delete the {{ doc_label|lower }}. You can restore it later from admin if needed.
  </p>

  <div class="mb-3">
    <div><strong>Number:</strong> {% if doc.number %}{{ doc.number }}{% else %}(draft){% endif %}</div>
    <div><strong>Client:</strong> {% if doc.client %}{{ doc.client.display_name }}{% else %}—{% endif %}</div>
    <div><strong>Total:</strong> {{ doc.total_cents|cents_to_dollars }}</div>
  </div>

  <form method="post">
    {% csrf_token %}
    <div class="d-flex gap-2 justify-content-end">
      <a class="btn btn-outline-secondary" href="{% if doc_type == 'invoice' %}{% url 'documents:invoice_edit' doc.id %}{% elif doc_type == 'estimate' %}{% url 'documents:estimate_edit' doc.id %}{% else %}{% url 'documents:proposal_edit' doc.id %}{% endif %}">Cancel</a>
      <button class="btn btn-danger" type="submit">Delete</button>
    </div>
  </form>
</div>
{% endblock %}
