{% extends "base.html" %}
{% block content %}
<div class="container py-4" style="max-width: 960px">
  <!-- Header -->
  <div class="d-flex align-items-center justify-content-between mb-3">
    <h1 class="h4 mb-0">Getting started</h1>
    <form method="post" action="{% url 'dashboard:onboarding_dismiss' %}">
      {% csrf_token %}
      <button type="submit" class="btn btn-sm btn-outline-secondary" title="Hide onboarding">
        Hide
      </button>
    </form>
  </div>

  <p class="text-muted mb-4">
    Follow these steps to finish setup. You can do them in any order.
  </p>

  <!-- Steps -->
  <section class="list-group">

    <!-- 1) Company -->
    <div class="list-group-item d-flex align-items-center justify-content-between">
      <div class="d-flex align-items-center gap-3">
        {% if status.has_company %}
          <i class="bi bi-check-circle-fill text-success" aria-hidden="true"></i>
          <span class="visually-hidden">Completed</span>
        {% else %}
          <i class="bi bi-circle text-muted" aria-hidden="true"></i>
          <span class="visually-hidden">Not completed</span>
        {% endif %}
        <div>
          <div class="fw-semibold">Set up your company</div>
          <div class="text-muted small">Name, logo, contact details</div>
        </div>
      </div>
      <div>
        {% if status.has_company %}
          <a class="btn btn-sm btn-outline-secondary" href="{% url 'core:company_profile' %}">Review</a>
        {% else %}
          <a class="btn btn-sm btn-primary" href="{% url 'core:company_create' %}">Create company</a>
        {% endif %}
      </div>
    </div>

    <!-- 2) Client -->
    <div class="list-group-item d-flex align-items-center justify-content-between">
      <div class="d-flex align-items-center gap-3">
        {% if status.has_client %}
          <i class="bi bi-check-circle-fill text-success" aria-hidden="true"></i>
          <span class="visually-hidden">Completed</span>
        {% else %}
          <i class="bi bi-circle text-muted" aria-hidden="true"></i>
          <span class="visually-hidden">Not completed</span>
        {% endif %}
        <div>
          <div class="fw-semibold">Add a client</div>
          <div class="text-muted small">Who you bill</div>
        </div>
      </div>
      <a class="btn btn-sm btn-outline-primary" href="{% url 'core:client_create' %}">Add client</a>
    </div>

    <!-- 3) Project -->
    <div class="list-group-item d-flex align-items-center justify-content-between">
      <div class="d-flex align-items-center gap-3">
        {% if status.has_project %}
          <i class="bi bi-check-circle-fill text-success" aria-hidden="true"></i>
          <span class="visually-hidden">Completed</span>
        {% else %}
          <i class="bi bi-circle text-muted" aria-hidden="true"></i>
          <span class="visually-hidden">Not completed</span>
        {% endif %}
        <div>
          <div class="fw-semibold">Create your first project</div>
          <div class="text-muted small">Hourly or flat rate</div>
        </div>
      </div>
      <div class="btn-group">
        <a class="btn btn-sm btn-outline-primary" href="{% url 'core:project_create_hourly' %}">Hourly</a>
        <a class="btn btn-sm btn-outline-primary" href="{% url 'core:project_create_flat' %}">Flat rate</a>
      </div>
    </div>

    <!-- 4) Activity -->
    <div class="list-group-item d-flex align-items-center justify-content-between">
      <div class="d-flex align-items-center gap-3">
        {% if status.has_activity %}
          <i class="bi bi-check-circle-fill text-success" aria-hidden="true"></i>
          <span class="visually-hidden">Completed</span>
        {% else %}
          <i class="bi bi-circle text-muted" aria-hidden="true"></i>
          <span class="visually-hidden">Not completed</span>
        {% endif %}
        <div>
          <div class="fw-semibold">Track something</div>
          <div class="text-muted small">Log time or add an expense</div>
        </div>
      </div>
      <div class="btn-group">
        <a class="btn btn-sm btn-outline-primary" href="{% url 'core:time_list' %}">Time</a>
        <a class="btn btn-sm btn-outline-primary" href="{% url 'core:expense_create' %}">Expense</a>
      </div>
    </div>

    <!-- 5) Invoice -->
    <div class="list-group-item d-flex align-items-center justify-content-between">
      <div class="d-flex align-items-center gap-3">
        {% if status.has_invoice %}
          <i class="bi bi-check-circle-fill text-success" aria-hidden="true"></i>
          <span class="visually-hidden">Completed</span>
        {% else %}
          <i class="bi bi-circle text-muted" aria-hidden="true"></i>
          <span class="visually-hidden">Not completed</span>
        {% endif %}
        <div>
          <div class="fw-semibold">Create your first invoice</div>
          <div class="text-muted small">Send or download as PDF</div>
        </div>
      </div>
      <a class="btn btn-sm btn-outline-primary" href="{% url 'core:invoice_create' %}">New invoice</a>
    </div>

    <!-- 6) Subscribe -->
    <div class="list-group-item d-flex align-items-center justify-content-between">
      <div class="d-flex align-items-center gap-3">
        {% if status.is_subscribed %}
          <i class="bi bi-check-circle-fill text-success" aria-hidden="true"></i>
          <span class="visually-hidden">Completed</span>
        {% else %}
          <i class="bi bi-circle text-muted" aria-hidden="true"></i>
          <span class="visually-hidden">Not completed</span>
        {% endif %}
        <div>
          <div class="fw-semibold">Choose a plan</div>
          <div class="text-muted small">Unlock full features anytime</div>
        </div>
      </div>
      <a class="btn btn-sm btn-outline-primary" href="{% url 'billing:plans' %}">View plans</a>
    </div>
  </section>

  <!-- Footer actions -->
  <div class="mt-4 d-flex gap-2">
    <a href="{% url 'dashboard:home' %}" class="btn btn-secondary">Back to dashboard</a>
    <a href="{% url 'dashboard:help_index' %}" class="btn btn-outline-secondary">Help center</a>
  </div>
</div>
{% endblock %}
