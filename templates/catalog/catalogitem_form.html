{% extends "base_app.html" %}

{% block title %}{% if mode == 'edit' %}Edit catalog item{% else %}New catalog item{% endif %} Â· EZ360PM{% endblock %}

{% block content %}
<div class="d-flex align-items-center justify-content-between mb-3">
  <h1 class="h4 mb-0">{% if mode == 'edit' %}Edit catalog item{% else %}New catalog item{% endif %}</h1>
  <a class="btn btn-outline-secondary" href="{% url 'catalog:item_list' %}">Back</a>
</div>

<div class="card">
  <div class="card-body" style="max-width: 760px;">
    <form method="post" novalidate class="ez-form">
      {% csrf_token %}

      {% if form.non_field_errors %}
        <div class="alert alert-danger">{{ form.non_field_errors }}</div>
      {% endif %}

      <div class="row g-3">
        <div class="col-12 col-md-4">
          <label class="form-label">Type</label>
          {{ form.item_type }}
          {% if form.item_type.errors %}<div class="text-danger small">{{ form.item_type.errors }}</div>{% endif %}
        </div>
        <div class="col-12 col-md-8">
          <label class="form-label">Name</label>
          {{ form.name }}
          {% if form.name.errors %}<div class="text-danger small">{{ form.name.errors }}</div>{% endif %}
        </div>

        <div class="col-12">
          <label class="form-label">Description</label>
          {{ form.description }}
          {% if form.description.errors %}<div class="text-danger small">{{ form.description.errors }}</div>{% endif %}
        </div>

        <div class="col-12 col-md-4">
          <label class="form-label">Unit price</label>
          {{ form.unit_price_cents }}
          <div class="text-secondary small">Enter dollars (e.g. $125.00). Stored in cents.</div>
          {% if form.unit_price_cents.errors %}<div class="text-danger small">{{ form.unit_price_cents.errors }}</div>{% endif %}
        </div>
        <div class="col-12 col-md-4">
          <label class="form-label">Tax</label>
          {{ form.tax_behavior }}
          {% if form.tax_behavior.errors %}<div class="text-danger small">{{ form.tax_behavior.errors }}</div>{% endif %}
        </div>
        <div class="col-12 col-md-4">
          <label class="form-label">Status</label>
          <div class="form-check mt-2">
            {{ form.is_active }}
            <label class="form-check-label" for="{{ form.is_active.id_for_label }}">Active</label>
          </div>
          {% if form.is_active.errors %}<div class="text-danger small">{{ form.is_active.errors }}</div>{% endif %}
        </div>
      </div>

      {% url 'catalog:item_list' as cancel_url %}
      {% include "partials/form_footer.html" with cancel_url=cancel_url primary_label="Save" %}
    </form>
  </div>
</div>
{% endblock %}
